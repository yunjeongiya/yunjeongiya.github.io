<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="630" xmlns="http://www.w3.org/2000/svg">
  <!-- Background gradient -->
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1f36;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2d3561;stop-opacity:1" />
    </linearGradient>

    <!-- Arrow marker -->
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 10 3, 0 6" fill="#64b5f6"/>
    </marker>

    <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 10 3, 0 6" fill="#ef5350"/>
    </marker>
  </defs>

  <rect width="1200" height="630" fill="url(#bgGradient)"/>

  <!-- Title -->
  <text x="600" y="60" font-family="'Segoe UI', sans-serif" font-size="42" font-weight="bold" text-anchor="middle" fill="#ffffff">
    2-step vs 1-step API
  </text>

  <!-- Left side: 2-step API -->
  <g transform="translate(100, 120)">
    <text x="200" y="0" font-family="'Segoe UI', sans-serif" font-size="28" font-weight="600" text-anchor="middle" fill="#ef5350">
      2-step API
    </text>

    <!-- Step boxes -->
    <rect x="50" y="30" width="300" height="60" rx="8" fill="#37474f" stroke="#546e7a" stroke-width="2"/>
    <text x="200" y="65" font-family="'Segoe UI', sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">
      1. Create Student
    </text>

    <!-- Arrow down -->
    <line x1="200" y1="95" x2="200" y2="125" stroke="#ef5350" stroke-width="2" marker-end="url(#arrow-red)"/>

    <rect x="50" y="130" width="300" height="60" rx="8" fill="#37474f" stroke="#546e7a" stroke-width="2"/>
    <text x="200" y="165" font-family="'Segoe UI', sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">
      2. Create Guardian 1
    </text>

    <!-- Arrow down -->
    <line x1="200" y1="195" x2="200" y2="225" stroke="#ef5350" stroke-width="2" marker-end="url(#arrow-red)"/>

    <rect x="50" y="230" width="300" height="60" rx="8" fill="#37474f" stroke="#546e7a" stroke-width="2"/>
    <text x="200" y="265" font-family="'Segoe UI', sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">
      3. Connect Guardian 1
    </text>

    <!-- Arrow down -->
    <line x1="200" y1="295" x2="200" y2="325" stroke="#ef5350" stroke-width="2" marker-end="url(#arrow-red)"/>

    <rect x="50" y="330" width="300" height="60" rx="8" fill="#37474f" stroke="#546e7a" stroke-width="2"/>
    <text x="200" y="365" font-family="'Segoe UI', sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">
      4. Create Guardian 2...
    </text>

    <!-- Problems -->
    <text x="200" y="430" font-family="'Segoe UI', sans-serif" font-size="16" text-anchor="middle" fill="#ef9a9a">
      ❌ Partial Failures
    </text>
    <text x="200" y="455" font-family="'Segoe UI', sans-serif" font-size="16" text-anchor="middle" fill="#ef9a9a">
      ❌ 5 Network Requests
    </text>
    <text x="200" y="480" font-family="'Segoe UI', sans-serif" font-size="16" text-anchor="middle" fill="#ef9a9a">
      ❌ Complex Error Handling
    </text>
  </g>

  <!-- VS in the middle -->
  <text x="600" y="330" font-family="'Segoe UI', sans-serif" font-size="36" font-weight="bold" text-anchor="middle" fill="#ffd54f">
    VS
  </text>

  <!-- Right side: 1-step API -->
  <g transform="translate(750, 120)">
    <text x="200" y="0" font-family="'Segoe UI', sans-serif" font-size="28" font-weight="600" text-anchor="middle" fill="#4fc3f7">
      1-step API
    </text>

    <!-- Single transaction box -->
    <rect x="50" y="30" width="300" height="200" rx="8" fill="#263238" stroke="#4fc3f7" stroke-width="3"/>

    <!-- Transaction label -->
    <rect x="140" y="20" width="120" height="25" rx="4" fill="#1976d2"/>
    <text x="200" y="38" font-family="'Segoe UI', sans-serif" font-size="14" font-weight="600" text-anchor="middle" fill="#ffffff">
      @Transactional
    </text>

    <!-- Operations inside transaction -->
    <text x="200" y="80" font-family="'Segoe UI', sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">
      Create Student
    </text>
    <text x="200" y="110" font-family="'Segoe UI', sans-serif" font-size="16" text-anchor="middle" fill="#b0bec5">
      +
    </text>
    <text x="200" y="140" font-family="'Segoe UI', sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">
      Create Guardians
    </text>
    <text x="200" y="170" font-family="'Segoe UI', sans-serif" font-size="16" text-anchor="middle" fill="#b0bec5">
      +
    </text>
    <text x="200" y="200" font-family="'Segoe UI', sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">
      Auto Connect
    </text>

    <!-- Single arrow -->
    <line x1="200" y1="240" x2="200" y2="280" stroke="#4fc3f7" stroke-width="3" marker-end="url(#arrow)"/>

    <!-- Result -->
    <rect x="100" y="290" width="200" height="50" rx="8" fill="#1b5e20" stroke="#4caf50" stroke-width="2"/>
    <text x="200" y="320" font-family="'Segoe UI', sans-serif" font-size="18" text-anchor="middle" fill="#ffffff">
      All or Nothing
    </text>

    <!-- Benefits -->
    <text x="200" y="380" font-family="'Segoe UI', sans-serif" font-size="16" text-anchor="middle" fill="#a5d6a7">
      ✅ Atomic Operation
    </text>
    <text x="200" y="405" font-family="'Segoe UI', sans-serif" font-size="16" text-anchor="middle" fill="#a5d6a7">
      ✅ 1 Network Request
    </text>
    <text x="200" y="430" font-family="'Segoe UI', sans-serif" font-size="16" text-anchor="middle" fill="#a5d6a7">
      ✅ 57% Less Code
    </text>
  </g>

  <!-- Footer metrics -->
  <g transform="translate(600, 560)">
    <rect x="-100" y="0" width="200" height="40" rx="20" fill="#1976d2" opacity="0.3"/>
    <text x="0" y="26" font-family="'Segoe UI', sans-serif" font-size="18" font-weight="600" text-anchor="middle" fill="#ffffff">
      5→1 API Calls
    </text>
  </g>
</svg>