---
layout: default
---

<article class="post">
  <div class="post-header-meta">
    <h1 class="post-title">{{ page.title | escape }}</h1>
    <div class="post-meta">
      <time datetime="{{ page.date | date_to_xmlschema }}">
        {{ page.date | date: "%Y-%m-%d %H:%M" }}
      </time>
      {% if page.categories.size > 0 %}
        • {{ page.categories | join: ", " }}
      {% endif %}
      {% if page.tags.size > 0 %}
        • Tags: {{ page.tags | join: ", " }}
      {% endif %}
    </div>
  </div>

  <div class="post-content" id="post-content">
    {{ content }}
  </div>
</article>

<!-- Right Panel Data (Outline + Minimap) -->
<script>
window.postOutline = [];
document.addEventListener('DOMContentLoaded', function() {
  const content = document.getElementById('post-content');
  const headings = content.querySelectorAll('h2, h3');
  
  headings.forEach(function(heading) {
    const level = heading.tagName.toLowerCase();
    const text = heading.textContent;
    const id = heading.id || text.toLowerCase().replace(/[^a-z0-9가-힣]+/g, '-');
    heading.id = id;
    
    window.postOutline.push({
      level: level,
      text: text,
      id: id
    });
  });
  
  if (window.updateOutline) {
    window.updateOutline();
  }
  
  if (window.updateMinimap) {
    window.updateMinimap();
  }
});
</script>

<!-- Terminal Panel Data -->
{% if page.tags.size > 0 %}
<script>
window.postTags = {{ page.tags | jsonify }};
</script>
{% endif %}

<!-- Git Comments System -->
<div id="git-comments" style="margin-top: 40px;"></div>

<script type="module">
  import { GitTerminal } from '/assets/js/git-terminal.js';

  const postId = '{{ page.id | replace: "/", "-" }}';
  const apiUrl = 'https://blog-comments-jnlald3nf-checkus.vercel.app';

  new GitTerminal('git-comments', postId, apiUrl);
</script>
